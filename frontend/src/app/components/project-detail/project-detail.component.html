<div class="project-detail-container" *ngIf="!loading && !error && project">
  <header class="page-header">
    <div>
      <a routerLink="/projects" class="back-link">â† Volver a proyectos</a>
      <h1>{{ project.name }}</h1>
      <span class="project-code">{{ project.code }}</span>
    </div>
    <span class="status-badge" [ngClass]="getStatusClass(project.status)">
      {{ getStatusLabel(project.status) }}
    </span>
  </header>

  <div class="content-grid">
    <!-- InformaciÃ³n del proyecto -->
    <div class="card project-info-card">
      <h2>InformaciÃ³n del Proyecto</h2>
      
      <div class="info-grid">
        <div class="info-item">
          <span class="info-label">Responsable:</span>
          <span>{{ project.responsiblePerson || 'No asignado' }}</span>
        </div>

        <div class="info-item">
          <span class="info-label">Fecha de inicio:</span>
          <span>{{ project.startDate | date:'dd/MM/yyyy' }}</span>
        </div>

        <div class="info-item">
          <span class="info-label">Fecha de creaciÃ³n:</span>
          <span>{{ project.createdAt | date:'dd/MM/yyyy HH:mm' }}</span>
        </div>

        <div class="info-item" *ngIf="project.archivedAt">
          <span class="info-label">Fecha de archivo:</span>
          <span>{{ project.archivedAt | date:'dd/MM/yyyy HH:mm' }}</span>
        </div>

        <div class="info-item" *ngIf="project.tags">
          <span class="info-label">Etiquetas:</span>
          <span class="tags">{{ project.tags }}</span>
        </div>
      </div>

      <div class="info-description" *ngIf="project.description">
        <h3>DescripciÃ³n</h3>
        <p>{{ project.description }}</p>
      </div>
    </div>

    <!-- Fases de OpenUP -->
    <div class="card phases-card">
      <h2>Fases de OpenUP</h2>
      
      <div class="phases-list">
        <div 
          *ngFor="let phase of project.phases" 
          class="phase-item"
          [ngClass]="getPhaseStatusClass(phase.status)"
        >
          <div class="phase-number">{{ phase.order }}</div>
          <div class="phase-info">
            <h3>{{ phase.name }}</h3>
            <span class="phase-status">
              {{ getPhaseStatusLabel(phase.status) }}
            </span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Acciones -->
  <div class="actions-bar" *ngIf="project.status !== 'Archived'">
    <button class="btn btn-secondary" (click)="confirmArchive()">
      ğŸ“¦ Archivar Proyecto
    </button>
    <button class="btn btn-danger" (click)="confirmDelete()">
      ğŸ—‘ï¸ Eliminar Permanentemente
    </button>
  </div>

  <div class="actions-bar" *ngIf="project.status === 'Archived'">
    <button class="btn btn-primary" (click)="confirmUnarchive()">
      ğŸ“¤ Desarchivar Proyecto
    </button>
    <button class="btn btn-danger" (click)="confirmDelete()">
      ğŸ—‘ï¸ Eliminar Permanentemente
    </button>
  </div>
</div>

<div *ngIf="loading" class="loading">
  <p>Cargando proyecto...</p>
</div>

<div *ngIf="error" class="error-container">
  <div class="error-message">
    <h2>Error</h2>
    <p>{{ error }}</p>
    <a routerLink="/projects" class="btn btn-primary">Volver a proyectos</a>
  </div>
</div>
